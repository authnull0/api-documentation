# Authnull Agent
Authnull Agent runs as a daemon on specifc instances and synchronizes users, groups from each endpoint.
It has the functionality to actively discover user groups /manage passwords / perform password rotations / sshkey management asynchronously. The agent also discovers users/groups / passwords/ keys /delete user groups from SAAS platform and synchronizes back to the endpoint. The agent can be deployed using the Add Endpoint Section following the configuration file.

## Installation Steps 
(How to Install/ Download)

### Helm install Endpoint Agent chart

Helm helps you manage Kubernetes applications â€” Helm Charts help you define, install, and upgrade even the most complex Kubernetes application.

Charts are easy to create, version, share, and publish



Install Helm with a package manager, or download a binary.

`
brew install helm
`


brew install helm


Once installed, unpack the helm binary and add it to your PATH and you are good to go! Check the docs for further installation and usage instructions.

## Configuration File 
(How to setup)

1.Now generate API key from authnull,after the generation of the API Key save the config file and restart the Endpoint Agent.


2.Register API triggers from agent

3.Send new Key API and periodically check new key from agent if there are any .


## Add Machine Api

The Add Machine API is a software component that can be integrated into the Lums Agent to enable the addition of new machines to the system via an API call. This API allows external systems or scripts to programmatically add new machines to the Lums Agent, simplifying the process of onboarding new machines.

```shell
curl --location --request POST 'https://api.authnull.kloudlearn.com/api/v1/machine/add-machine' \
```

```http
POST /api/v1/instances/add-instance HTTP/1.1
```

```json
{
  "domainId": 1,
  "instanceName": "abc-xyz",
  "osId": 1,
  "publicIp": "192.168.1.1",
  "privateIp": "172.64.32.1",
}


```

### Access Token
Authorization Key Required Required

### HTTP Request
`POST /api/v1/machine/add-machine HTTP/1.1`

### Query Parameter
Parameter  | Description
--------- | -----------
 machineKey| The machineKey is used to authenticate and uniquely identify a machine to be added to the Lums monitoring system.
 osId | The osId is used to specify the operating system of the machine being added to the agent.
publicIpAddress |The publicIpAddress is used to specify the public IP address of the machine to be added to the Lums workspace.
privateIpAddress | The privateIpAddress specifies the private IP address of the machine being added to the Lums platform.

### HTTP Response

```json
{
    "instanceId": "11",
    "code": "201",
    "message": "Success"
}
```

<aside class="success">
Instance added to the list.
</aside>



## Maintenance
Endpoint Agents maintained by checking Privilige Status API, this happens periodically to check whether the users/groups priviliges are updatedor not.



