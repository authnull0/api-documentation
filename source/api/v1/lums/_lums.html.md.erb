# Endpoint User Management
The Endpoint User Management manages endpoint users creation, creates credentials based on credential type and assigns them to wallets. The users are also imported from the Authnull Agent running per instance, and are assigned to wallets. All the synchronization happens with the Authnull Agent for endpoint users 

 
## List User
The List User API allows users to retrieve a list of all the users in the system or application for endpoint user management.The API may return a list of user details and any relevant permissions or access rights.

```shell
curl --location 'https://api.authnull.authnull.com/api/v1/endpointUsers/listAllEpmUsers' \
--header 'Content-Type: application/json' \
--data '{
    "domainId":1,
    "pageId": 1,
    "pageSize": 10,
    "search": "asif-demo",
    "filter": {
        "filterBy": "hostname",
        "value": "windows-11"
    },
    "instanceIds": []
}'


```

```http
POST /api/v1/endpointUsers/listAllEpmUsers HTTP/1.1
```




```json
{
    "domainId":1,
    "pageId": 1,
    "pageSize": 10,
    "search": "asif-demo",
    "filter": {
        "filterBy": "hostname",
        "value": "windows-11"
    },
    "instanceIds": []
}
```


### Access Token
Authorization Key Required 

### HTTP Request

`POST /api/v1/endpointUsers/listAllEpmUsers HTTP/1.1`

### Query Parameters

Parameter | Description
--------- | ------- | -----------
pageId | Page ID refers to the page number.
pageSize | Page size refers to the number of endpoints groups to be fetched.
domainId |  Domain Id is the company/organization id within our Authnull platform.
instanceId | The instanceId is used to specify the ID of the instances that are part of the endpoint.
filter | filter is the search keyword for searching endpoint groups.
filterBy |filterBy is the filter instances based on the attribute.
value |value define specific filtering criteria or conditions.
### HTTP response

```json
{
  "totalCount": 1,
  "epmUsers": [
    {
      "credType": "",
      "userId": 2608,
      "userName": "asif-demo",
      "source": "",
      "userType": "local",
      "instances": [
        {
          "instanceId": 121,
          "hostname": "windows-11",
          "os": "windows",
          "lastActive": "1698830657"
        }
      ],
      "assign": true,
      "credentialId": "",
      "wallets": [
        {
          "walletId": 146,
          "walletEmail": "a@authnull.io"
        },
        {
          "walletId": 169,
          "walletEmail": "cloud.ahrar@gmail.com"
        },
        {
          "walletId": 183,
          "walletEmail": "muthu@kloudone.com"
        }
      ],
      "countOfCredentials": 3
    }
  ]
}
```

`successfully shown list of all endpoint user`


<aside class="success">
successfully shown list of all endpoint user
</aside>
 
## Add Endpoint User Info
The Add Endpoint User Info API allows users to add endpoint-specific information to a user account in the system or application for endpoint user management. This API provides a simple and efficient way to manage user accounts and ensure that endpoint-specific information is associated with each user.

```shell
curl --location 'https://api.authnull.authnull.com/api/v1/endpointUsers/addEpmUserInfo' \
--header 'Content-Type: application/json' \
--data '{
"domainId":4,
"userName":"as",
"userType":"12",
"credType":"asd",
"password":"XXXX",
"motp":"",
"did":"",
"privilegedUser":"",
"sshKey":"asdfg"
}'
```

```http
POST /api/v1/endpointUsers/addEpmUserInfo HTTP/1.1
```



```json
{
"domainId":1,
"userType":"Local",
"credType":"password",
"password":"",
"privilegedUser":"true",
"userName":"testManjuupdate",
"sshKey":"",
"motp":"",
"did":""
}
```


### Access Token
Authorization Key Required 

### HTTP Request

`POST /api/v1/endpointUsers/addEpmUserInfo HTTP/1.1`

### Query Parameters

Parameter | Description
--------- | ------- | -----------
domainId |  Domain Id is the company/organization id within our Authnull platform.
userType | Roles is the user is admin or user it signify.
credType | The credType specifies the type of credential used for authentication or authorization purposes.
password | The password refers to the authentication credential used to verify the identity of the user making the request.
privilegedUser |The privilegedUser allows certain users to have elevated access and permissions within the endpoint.
userName | an identification used by a person with access to a computer, network, or online service.
sshKey | The sshKey allows for secure access to an endpoint using a pre-shared cryptographic key.
motp | MOTP parameter is used for Multi-One Time Password authentication on API endpoints to ensure secure access and prevent unauthorized usage.
did | The did specifies the unique decentralized identifier associated with a decentralized identity, allowing for authentication and authorization of data exchange and access within a decentralized identity ecosystem.


### HTTP response

```json
{
  "status": "Success",
  "message": "User Added successfully",
  "userId": "2609"
}
```

`User Added successfully`

<aside class="success">
User Added successfully
</aside>

## Get Endpoint User detail
The Get Endpoint User Detail API is a part of the User Management endpoint and is used to retrieve detailed information about a specific user. This API endpoint requires the user unique identifier as input and returns information and any associated metadata. It is useful for retrieving specific user information to display or manipulate within an application.

```shell
curl --location 'https://api.authnull.authnull.com/api/v1/endpointUsers/epmUserDetail' \
--header 'Content-Type: application/json' \
--data '{
    "domainId":1,
    "userId":25
}'
```

```http
POST /api/v1/endpointUsers/getEpmUserDetail
```



```json
{
"userId":26,
"domainId":1
}
```




### Access Token
Authorization Key Required 

### HTTP Request

`POST /api/v1/endpointUsers/getEpmUserDetail HTTP/1.1`

### Query Parameters

Parameter | Description
--------- | ------- | -----------
domainId |  Domain Id is the company/organization id within our Authnull platform.
userIds |The userId is used to specify the unique identifier of a user to be added or removed from an endpoint.

### HTTP response

```json
{
"domainId":1,
"userId":26,
"userType":"Local",
"credType":"password",
"password":"xxxx",
"privilegedUser":"true",
"userName":"testManjuupdate",
"sshKey":"",
"motp":"",
"did":""
}
```

`Epm User Detail Fetched`

<aside class="success">
Epm User Detail Fetched
</aside>


## Update Endpoint User Info
The Update Endpoint User Info API is a part of the User Management endpoint and is used to update a user information. This API endpoint requires the user unique identifier and the updated information as input. Upon successful execution, the API returns a success message indicating that the user information has been updated. 


```shell
curl --location --request PUT 'https://api.authnull.authnull.com/api/v1/endpointUsers/updateEpmUserInfo' \
--header 'Content-Type: application/json' \
--data '{
"userId":26,
"domainId":1,
"userType":"Local",
"credType":"password",
"password":"xxxx",
"privilegedUser":"true",
"userName":"testManjuupdate",
"sshKey":"",
"motp":"",
"did":""
}'
```

```http
PUT /api/v1/endpointUsers/updateEpmUserInfo HTTP/1.1
```



```json
{
"userId":26,
"domainId":1,
"userType":"Local",
"credType":"password",
"password":"xxxx",
"privilegedUser":"true",
"userName":"testManjuupdate",
"sshKey":"",
"motp":"",
"did":""
}
```



### Access Token
Authorization Key Required 

### HTTP Request

`PUT /api/v1/endpointUsers/updateEpmUserInfo HTTP/1.1`

### Query Parameters

Parameter | Description
--------- | ------- | -----------
userId |The userId is used to specify the unique identifier of a user to be added or removed from an endpoint.
domainId |  Domain Id is the company/organization id within our Authnull platform.
userType | Roles is the user is admin or user it signify.
credType |The credType specifies the type of credential used for authentication or authorization purposes.
passord |The password refers to the authentication credential used to verify the identity of the user making the request.
privilegedUser | The privilegedUser allows certain users to have elevated access and permissions within the endpoint
userName | an identification used by a person with access to a computer, network, or online service.
sshKey |The sshKey allows for secure access to an endpoint using a pre-shared cryptographic key.
motp | MOTP parameter is used for Multi-One Time Password authentication on API endpoints to ensure secure access and prevent unauthorized usage.
did |The did specifies the unique decentralized identifier associated with a decentralized identity, allowing for authentication and authorization of data exchange and access within a decentralized identity ecosystem.


### HTTP response

```json
{
    "status": "Success",
    "message": "User Updated successfully",
    "userId": "26"
}
```

`EPM User Info updated`

<aside class="success">
EPM User Info updated
</aside>


## Update User Wallet
The Update User Wallet API is a service that allows developers to programmatically update the wallet balance of a user on the Lums platform. This API can be used to add or subtract funds from a user wallet balance, and can be integrated into various applications such as e-commerce platforms, gaming sites, or any other platform that requires user wallets. The API uses secure authentication and authorization protocols to ensure that only authorized users have access to wallet update functionalities. With this API, developers can provide a seamless user experience by enabling users to add funds to their wallet or make purchases directly from their wallet balance.

```shell
curl --location --request PUT 'https://api.authnull.authnull.com/api/v1/endpointUsers/updateUserWallet' \
--header 'Content-Type: application/json' \
--data '{
    "epmUserId":[402],
    "domainId":1,
    "authnullUserNames":[104,105],
    "groupId":[381,382],
    "instanceId":[15,16],
    "assignMultiple": "false",
    "userType":"local",
    "privilegedUser":"yes",
    "credentialId":[0],
    "credentialType":"password"
    "issuerId":1
    }'
```

```http
PUT /api/v1/endpointUsers/updateUserWallet HTTP/1.1
```



```json
{
"epmUserId":[402],
"domainId":1,
"authnullUserNames":[104,105],
"groupId":[381,382],
"instanceId":[15,16],
"assignMultiple": "false",
"userType":"local",
"privilegedUser":"yes",
"credentialId":[0],
"credentialType":"password"
"issuerId":1
}
```



### Access Token
Authorization Key Required 

### HTTP Request

`PUT /api/v1/endpointUsers/updateUserWallet HTTP/1.1`

### Query Parameters

Parameter | Description
--------- | ------- | -----------
epmUserId |The userId is used to specify the unique identifier of a user to be added or removed from an endpoint.
domainId |  Domain Id is the company/organization id within our Authnull platform.
authnullUserNames | The authnullUserNames specifies the usernames of the users whose wallets need to be updated.
groupId |The groupId is used to specify the ID of the wallet group to which the user wallet belongs.
instanceId | The instanceId specifies the unique identifier of the user wallet instance to be updated.
privilegedUser | The privilegedUser allows certain users to have elevated access and permissions within the endpoint
assignMultiple | The assignMultiple allows multiple wallet values to be updated simultaneously for a user.
userType | The userType specifies the type of user for which the wallet is being updated.
credentialId |The credentialId is used to specify the unique identifier for the users wallet credential.
credentialType |The credentialType specifies the type of credential being updated for the users wallet, such as a credit card or bank account.
issuerId | The issuerId is used to specify the ID of the entity that issued the wallet.

### HTTP response

```json
{
    "status": "Success",
    "message": " Wallet Updated"
}
```

`Wallet updated`

<aside class="success">
Wallet updated
</aside>


## Delete Endpoint User
The Delete Endpoint User API is a part of the User Management endpoint and is used to delete a user account. This API endpoint requires the user unique identifier as input, and upon successful execution, the user account is removed from the system. This API is useful for administrative purposes, such as removing inactive or unauthorized user accounts.

```shell
curl --location --request DELETE 'https://api.authnull.authnull.com/api/v1/endpointUsers/deleteEpmUser' \
--header 'Content-Type: application/json' \
--data '{
    "domainId": 1,
    "key": "34rfdhuytqwrtttbcv",
    "epmUsers": [
        {
            "epmUserId": 514,
            "userName": "hema",
            "instanceId": 17
        },
        {
            "epmUserId": 515,
            "userName": "hema",
            "instanceId": 17
        }
    ]
}'
```

```http
DELETE api/v1/endpointUsers/deleteEpmUser HTTP/1.1
```



```json
{
    "domainId": 1,
    "key": "34rfdhuytqwrtttbcv",
    "epmUsers": [
        {
            "epmUserId": 514,
            "userName": "hema",
            "instanceId": 17
        },
        {
            "epmUserId": 515,
            "userName": "hema",
            "instanceId": 17
        }
    ]
}
```



### Access Token
Authorization Key Required 

### HTTP Request

`DELETE api/v1/endpointUsers/deleteEpmUser HTTP/1.1`

### Query Parameters

Parameter | Description
--------- | ------- | -----------
domainId |  Domain Id is the company/organization id within our Authnull platform.
epmUserId | The epmUserId is used to identify the unique user ID associated with a particular endpoint in order to perform user-specific operations.
userName | an identification used by a person with access to a computer, network, or online service.
instanceId | The instanceId is used to specify the ID of the instances that are part of the endpoint.



### HTTP response

```json
{
    "status": "Success",
    "message": "User deleted successfully"
}
```

`Endpoint User deleted`

<aside class="success">
Endpoint User deleted
</aside>

## Password Policy
A proper password complexity policy would be: eight characters for the length of a password and at least three types of the following characters used: uppercase letters, lowercase letters, digits, and special characters. Add the following parameters and their values: minlen, dcredit, ucredit, lcredit, and ocredit.


## Add Password Policy 
The Add Password Policy API is a part of the Password Policy endpoint in User Management and is used to define the password requirements for user accounts. This API endpoint requires input such as password length, complexity rules, and expiration policies. Upon successful execution, the API returns a success message indicating that the password policy has been added. This API is useful for enforcing security standards for user passwords and reducing the risk of security breaches.

```shell
curl --location 'https://api.authnull.authnull.com/api/v1/instances/addPasswordPolicy' \
--header 'Content-Type: application/json' \
--data '{
    "policyName":"PolicynonMachineTest",
    "templateName":"Template1",
    "minLen":"5",
    "maxLen":"10",
    "firstChar":"",
    "allowUpperLower":"",
    "allowSpecial":"yes",
    "allowNumeric":"yes"
}'
```

```http
POST /api/v1/instances/addPasswordPolicy HTTP/1.1
```



```json
{
    "policyName":"PolicynonMachineTest",
    "templateName":"Template1",
    "minLen":"5",
    "maxLen":"10",
    "firstChar":"",
    "allowUpperLower":"",
    "allowSpecial":"yes",
    "allowNumeric":"yes"
}
```


### Access Token
Authorization Key Required 

### HTTP Request

`POST /api/v1/instances/addPasswordPolicy HTTP/1.1`

### Query Parameters

Parameter | Description
--------- | ------- | -----------
policyName | The policyName refers to the name of the policy that should be applied to the specified endpoint.
templateName | The templateName refers to the name of the password policy template that is being used to apply a set of rules and restrictions for creating and managing user passwords.
minLen | The minLen sets the minimum required length for a users password.
maxLen | The minLen sets the Maximum required length for a users password.
firstChar | The firstChar specifies whether the password requires the first character to be uppercase, lowercase, or a digit.
allowUpperLower | The allowUpperLower specifies whether the password policy allows the use of both uppercase and lowercase letters in passwords.
allowSpecial | The allowSpecial determines whether special characters are allowed in user passwords.
allowNumeric | The allowNumeric specifies whether or not numeric characters are allowed in user passwords.

### HTTP response

`successfully Added Password Policy`

```json
{
    "code": 200,
    "message": "Successfully Added Password Policy"
}
```

<aside class="success">
successfully Added Password Policy
</aside>

## Delete Password Policy
The Delete Password Policy API is a part of the Password Policy endpoint in User Management and is used to remove an existing password policy. This API endpoint requires the unique identifier of the policy to be deleted as input, and upon successful execution, the policy is removed from the system. This API is useful for administrative purposes, such as updating password policies or removing outdated policies. It is important to note that removing a password policy may affect the security of user accounts and should be done with caution.


```shell
curl --location --request DELETE 'https://api.authnull.authnull.com/api/v1/instances/deletePasswordPolicy' \
--header 'Content-Type: application/json' \
--data '{
    "policyId":1
}'
```

```http
DELETE /api/v1/instances/deletePasswordPolicy HTTP/1.1
```



```json
[
  {
        "policyId":1
  
    }
]
```

### Access Token
Authorization Key Required 

### HTTP Request

`DELETE /api/v1/instances/deletePasswordPolicy HTTP/1.1`

### Query Parameters

Parameter | Description
--------- | ------- | -----------
policyId | The policyId specifies the unique identifier of a password policy to be retrieved, updated, or deleted.


### HTTP response

`successfully deleted Password Policy`

```json
[
  {
    "policyName":"PolicynonMachineTest",
    "templateName":"Template1",
    "minLen":"5",
    "maxLen":"10",
    "firstChar":"",
    "allowUpperLower":"",
    "allowSpecial":"yes",
    "allowNumeric":"yes"
}
]

```

<aside class="success">
successfully deleted Password Policy
</aside>

## List All Password Policy
The List All Password Policy API is a part of the Password Policy endpoint in User Management and is used to retrieve a list of all existing password policies. This API endpoint returns a list of policies, each with its unique identifier and associated settings such as password length and complexity rules. This API is useful for administrative purposes, such as reviewing the current password policies or managing multiple policies for different user groups or applications.

```shell
curl --location 'https://api.authnull.authnull.com/api/v1/instances/listPasswordPolicy' \
--header 'Content-Type: application/json' \
--data '{
    "machineIds":[1,2,3],
    "pageId":1,
    "pageSize": 10
}'
```

```http
POST /api/v1/instances/listAllPasswordPolicy HTTP/1.1
```



```json
{
    "machineIds":[1,2,3],
    "pageId":1,
    "pageSize": 10
}
```



### Access Token
Authorization Key Required 

### HTTP Request

`POST /api/v1/instances/listPasswordPolicy HTTP/1.1`

### Query Parameters

Parameter | Description
--------- | ------- | -----------
machineIds | The machineIds is used to filter the password policies based on the machine IDs associated with them.
pageId | Page ID refers to the page number.
pageSize | Page size refers to the number of endpoints groups to be fetched.

### HTTP response

`successfully Listed All Password Policy`

```json
{
    "totalPolicies": 17,
    "totalPages": 2,
    "passwordPolicies": [
        {
            "policyId": 2,
            "policyName": "PolicyManjuTest",
            "minLen": "5",
            "maxLen": "10",
            "firstChar": "",
            "allowUpperLower": "",
            "allowSpecial": "yes",
            "allowNumeric": "yes"
        }
    ]
}

```

<aside class="success">
successfully Listed All Password Policy
</aside>

## Assign Policy To Endpoints
The Assign Policy to Endpoints API is a part of the Password Policy endpoint in User Management and is used to assign an existing password policy to a specific endpoint or group of endpoints. This API endpoint requires the unique identifier of the policy and the identifier of the endpoint(s) to be assigned to as input. Upon successful execution, the API returns a success message indicating that the policy has been assigned to the specified endpoint(s). This API is useful for managing password policies for different applications or user groups and ensuring consistent security standards across multiple endpoints.

```shell
curl --location 'https://api.authnull.authnull.com/api/v1/instances/assignPolicyToMachine' \
--header 'Content-Type: application/json' \
--data '{
    "policyId":2,
    "instanceId":1

}'
```

```http
POST /api/v1/instances/assignPolicyToMachine HTTP/1.1
```



```json
[
  {
    "policyId":2,
    "instanceId":1
  

}
]
```

This will Assign Policy To Machine.

### HTTP AuthKey
Authorization Key Required 

### HTTP Request

`POST /api/v1/instances/assignPolicyToMachine HTTP/1.1`

### Query Parameters

Parameter | Description
--------- | ------- | -----------
policyId | The policyId specifies the unique identifier of a password policy to be retrieved, updated, or deleted.
instanceId | The instanceId is used to specify the ID of the instances that are part of the endpoint.


### HTTP response

`successfully Assigned Policy To endpoint`

```json
{
    "code": 200,
    "message": "Successfully Assigned Password Policy To Endpoint"
}

```

<aside class="success">
successfully Assigned Policy To endpoint
</aside>


## Update Password Policy
The Update Password Policy API is a part of the Password Policy endpoint in User Management and is used to update an existing password policy. This API endpoint requires the unique identifier of the policy and the updated policy settings as input, such as password length, complexity rules, or expiration policies.This API is useful for modifying password policies to reflect changing security needs or standards. It is important to note that updating a password policy may affect the security of user accounts and should be done with caution.

```shell
curl --location --request PUT 'https://api.authnull.authnull.com/api/v1/instances/updatePasswordPolicy' \
--header 'Content-Type: application/json' \
--data '{
    "policyId": 1,
    "policyName":"testPolicy",
    "minLen":"",
    "maxLen": "",
    "firstChar": "",
    "allowUpperLower":"",
    "allowSpecial":"",
    "allowNumeric":""

}'
```

```http
Put /api/v1/instances/updatePasswordPolicy HTTP/1.1
```



```json
[
  {
        "policyId":2,
        "policyName":"PolicyManjuTest1",
        "minLen":"3",
        "maxLen":"5",
        "firstChar":"",
        "allowUpperLower":"",
        "allowSpecial":"",
        "allowNumeric":""
   
    
    }
]
```


### Access Token
Authorization Key Required 

### HTTP Request

`Put /api/v1/instances/updatePasswordPolicy HTTP/1.1`

### Query Parameters

Parameter | Description
--------- | ------- | -----------
policyName | The policyName refers to the name of the policy that should be applied to the specified endpoint.
templateName |The templateName refers to the name of the password policy template that is being used to apply a set of rules and restrictions for creating and managing user passwords.
minLen | The minLen sets the minimum required length for a users password.
maxLen | The minLen sets the Maximum required length for a users password.
firstChar | The firstChar specifies whether the password requires the first character to be uppercase, lowercase, or a digit.
allowUpperLower | The allowUpperLower specifies whether the password policy allows the use of both uppercase and lowercase letters in passwords.
allowSpecial | The allowSpecial determines whether special characters are allowed in user passwords.
allowNumeric | The allowNumeric specifies whether or not numeric characters are allowed in user passwords.

### HTTP response

`successfully updated Password Policy`

```json
[
 {
  "Updated Successfully"
 }
]

```

<aside class="success">
successfully updated Password Policy
</aside>

## Validate Password
The Validate Password API is a part of the Password Policy endpoint in User Management and is used to validate if a password meets the specified password policy requirements. This API endpoint requires the user password as input and returns a success message indicating if the password meets the policy requirements or an error message indicating which policy requirements were not met. This API is useful for ensuring that user passwords meet the specified security standards and reducing the risk of security breaches. It is typically used in conjunction with other password policy management APIs.

```shell
curl --location 'https://api.authnull.authnull.com/api/v1/instances/validatePassword' \
--header 'Content-Type: application/json' \
--data '{

"machineId":"",

"password":""

}'
```

```http
POST /api/v1/instances/validatePolicy HTTP/1.1
```



```json
{

machineId:"",

password:""

}
```


### Access Token
Authorization Key Required 

### HTTP Request

`POST /api/v1/instances/validatePolicy HTTP/1.1`

### Query Parameters

Parameter | Description
--------- | ------- | -----------
policyName | The policyName refers to the name of the policy that should be applied to the specified endpoint.
templateName |The templateName refers to the name of the password policy template that is being used to apply a set of rules and restrictions for creating and managing user passwords.
minLen | The minLen sets the minimum required length for a users password.
maxLen | The minLen sets the Maximum required length for a users password.
firstChar | The firstChar specifies whether the password requires the first character to be uppercase, lowercase, or a digit.
allowUpperLower | The allowUpperLower specifies whether the password policy allows the use of both uppercase and lowercase letters in passwords.
allowSpecial | The allowSpecial determines whether special characters are allowed in user passwords.
allowNumeric | The allowNumeric specifies whether or not numeric characters are allowed in user passwords.



### HTTP response

`successfully Password Policy validated`

```json
[
 {
  "Validation Successful"
 }
]

```

<aside class="success">
successfully Password Policy validated
</aside>