# Decentralized Identities
## Create Issuer DID
Verifiable credentials are a form of digital identity that allows individuals and organizations to securely and selectively share information about themselves. By creating an Issuer DID, an entity can establish a trusted identity on a decentralized network, and issue verifiable credentials that can be cryptographically verified by third parties.

```http
https://api.did.kloudlearn.com/api/v1/did/createIssuerDid
```

```shell
curl --location --request POST 'https://api.did.kloudlearn.com/api/v1/did/createIssuerDid'
```

```json
{
  "method": "key",
  "domainId": 1,
   "name":  "Authnull"
   "description": "This is a Issuer DID"
}
```
### HTTP Request
`https://api.did.kloudlearn.com/api/v1/did/createIssuerDid`

### Query Parameters
Parameter | Description
--------- | -----------
method    |This refers to the specific DID method that will be used to create the DID. A DID method is a set of rules and specifications that govern how a DID is created, stored, and used. There are many different DID methods available, each with its own unique features and requirements. 
domainId |This refers to the company or organization who is using the service.
name      |This refers to a department or a group in a company or an organization. 
description | Description of the Issuer DID

```json
{
    "id": "did:key:z6MkpmebgMcPGrgg6gLwH4vjtR3EqjjGFTXEcmVBXaTmxATF",
    "code": 200,
    "message": "Successfully created DID",
    "status": "Success"
}
```

### HTTP Response
`Successfully created DID`

## Create Holder DID
A Holder DID is a Decentralized Identifier (DID) that is used by an user to store and control their own verifiable credentials.


```shell
curl --location --request POST 'https://api.did.kloudlearn.com/api/v1/did/createHolderDid'
```

```http
POST /api/v1/did/createHolderDid HTTP/1.1
```
```json
{
  "method": "key",
  "domainId": 1 ,
  "userId" : 104,
  "issuerDid" : "did:key:z6MkkpN6GJP63BAS6SnBtLzxCE116KSUfHnyqJ7JAzkPYRvY"
  "description": "This is a User DID"
}
```

### HTTP Request
`POST /api/v1/did/createHolderDid HTTP/1.1`

### Query Parameters

Parameter | Description
--------- | -----------
 method   |This refers to the specific DID method that will be used to create the DID. A DID method is a set of rules and specifications that govern how a DID is created, stored, and used. There are many different DID methods available, each with its own unique features and requirements.  
domainId |This refers to the company or organization which the user is part of. 
userId   |This refers to the unique ID of the user. 
issuerDid | This refers to the DID of the issuing organization or company.
description | Description of the User DID

```json
{
    "id": "did:key:z6MkpAmMgW8szKWB36LNY7kvvAF88hULEEsFqX9jCSFbAik2",
    "code": 200,
    "message": "Successfully created DID",
    "status": "Success"
}
```

### HTTP Response
`Successfully created DID`

## Credential Schema List 
This API retrieves all the available schemas for creating a Verifiable Credential.

```shell
curl --location --request POST 'https://api.did.kloudlearn.com/api/v1/credential/
```

```http
POST /api/v1/credential/credentialSchemaList HTTP/1.1
```

```json
{
   "domainId": 1,
   "issuerDid": "did:brcm:z6MkvqWej7s1F39piFRHJ52QPmwHsQcEoo4EYb3RPbxtfoZn"
}

```
### HTTP Request
`POST /api/v1/credential/credentialSchemaList HTTP/1.1`

### Query Parameters

Parameter | Description
--------- | -----------
domainId  | This refers to the company or organization which the user is part of. 
issuerDID |This refers to the DID of the issuing organization or company.

```json
[
    {
        "id": 1,
        "name": "SSH"
    }
]
```

### HTTP Response
`Credential Schema Listed`

## Create Verifiable Credential
Verifiable Credentials (VCs) are digital credentials that contain information about a person or entity, which can be verified by others. A Decentralized Identifier (DID) is a unique identifier that allows individuals or organizations to control their own digital identity. Combining these two technologies, a Verifiable Credential DID is a digital credential that is associated with a DID, allowing for secure and decentralized verification of the credentials authenticity and ownership

```shell
curl --location --request POST https://api.authnull.kloudlearn.com/api/v1/issueVerifiableCredential
```

```http
POST /api/v1/credential/createCredential HTTP/1.1
```

```json
{
	"domainId" : 1,
    "issuerDid" : "did:key:z6MkkpN6GJP63BAS6SnBtLzxCE116KSUfHnyqJ7JAzkPYRvY",
	"holderDid" : "did:key:z6MkkpN6GJP63BAS6SnBtLzxCE116KSUfHnyqJ7JAzkPYRvY",
    "schemaId" : 2,
    "metadata" : "password"
}
```
### HTTP Request
`POST /api/v1/credential/createCredential HTTP/1.1`

### Query Parameters

Parameter | Description
--------- | -----------
domainId | This refers to the company or organization who is issuing the VC or Verifiable Credential. 
issuerDid | This refers to the DID of the issuing organization or company.
holderDid |Holder DID refers to the recipient of the verifiable credential. 
schemaId | It refers to the schema used to create the verifiable credential.
metadata | These are the set of properties or claims.
 

 ```json
 {
    "code": 200,
    "message": "Credential Assigned successfully",
    "status": "SUCCESS"
}
```

### HTTP Response
`Credential Assigned successfully`

## Revoke Credential 
Revoking a credential refers to the process of invalidating a previously issued digital credential.

```shell
curl --location --request POST 'https://api.did.kloudlearn.com/api/v1/credential/revokecredential'
```

```http
POST /api/v1/credential/revokecredential HTTP/1.1
```
```json
{
  "vcid": 2,
  "domainId": 2,
  "issuerDid": "did:brcm:z6MkvqWej7s1F39piFRHJ52QPmwHsQcEoo4EYb3RPbxtfoZn",
  "holderDid": "did:brcm:z6MkvqWej7s1F39piFRHJ52QPmwHsQcEoo4EYb3RPbxtfoZn"
}
```
### HTTP Request
`POST https://api.authnull.kloudlearn.com/api/v1/presentationRequest HTTP/1.1`

### Query Parameters
Parameter | Description
--------- | -----------
vcid | VC ID
domainId | This refers to the company or organization which the user is part of. 
issuerDid |This refers to the DID of the issuing organization or company.
holderDid |Holder DID refers to the recipient of the verifiable credential.


```json
{
    "Message": "Credential Revoked successfully",
    "Code": 200,
    "Status": "Success"
}
```

### HTTP Response
`Credential Revoked successfully`


## Credential List


```shell
curl --location --request POST 'https://api.did.kloudlearn.com/api/v1/credential/credentialList'
```

```http
POST /api/v1/credential/credentialList HTTP/1.1
```

```json
{
   "domainId": 1
}
```

### HTTP Request
`POST /api/v1/credential/credentialList HTTP/1.1`

### Query Parameters
Parameter | Description
--------- | -----------
domainId | This refers to the company or organization which the user is part of.

```json
{
    "code": 200,
    "message": "Credential List Success",
    "status": "Success",
    "domainId": 1,
    "credentials": [
        {
            "id": 1,
            "issuerId": 1,
            "schemaId": 1,
            "credentialId": "1",
            "name": "core item",
            "status": "ACTIVE"
        },
        {
            "id": 2,
            "issuerId": 0,
            "schemaId": 2,
            "credentialId": "a74d273c-632e-4830-9d7f-4408f2ea447f",
            "name": "Credential",
            "status": "Assigned"
        },
        {
            "id": 3,
            "issuerId": 0,
            "schemaId": 2,
            "credentialId": "62e78e9b-ac26-4216-a8d9-de400d06a9a6",
            "name": "Credential",
            "status": "Assigned"
        },
        {
            "id": 4,
            "issuerId": 29,
            "schemaId": 2,
            "credentialId": "83567dad-8920-4b1d-bfa0-67082f95b0b5",
            "name": "Credential",
            "status": "Assigned"
        },
        {
            "id": 5,
            "issuerId": 29,
            "schemaId": 2,
            "credentialId": "1a96a91a-209d-47bd-88f6-f4e3f3a121be",
            "name": "Credential",
            "status": "Assigned"
        }
    ]
}
```

### HTTP Response
`succesfully Credential Listed`


## Credential Schema List


```http
POST /api/v1/credential/credentialSchemaList HTTP/1.1
```

```shell
curl --location --request POST 'https://api.did.kloudlearn.com/api/v1/credential/credentialSchemaList'
```

```json
{
   "domainId": 1,
   "issuerDid": "did:brcm:z6MkvqWej7s1F39piFRHJ52QPmwHsQcEoo4EYb3RPbxtfoZn"
}
```
### HTTP Request
`POST /api/v1/credential/credentialSchemaList HTTP/1.1`

### Query Parameters
Parameter | Description
--------- | ----------- 
domainId |This refers to the company or organization who is using the service.
issuerDID      |This refers to the DID of the issuing organization or company. 

```json
[
    {
        "id": 1,
        "name": "SSH"
    }
]
```

### HTTP Response
`Successfully Listed Credential Schema List`


## DID List


```http
POST /api/v1/did/DIDList HTTP/1.1
```

```shell
curl --location --request POST 'https://api.did.kloudlearn.com/api/v1/did/DIDList'
```

```json
{
  "domainId": 1,
  "issuerId": 2,
  "userId": 104  
}
```
### HTTP Request
`POST /api/v1/did/DIDList HTTP/1.1`

### Query Parameters
Parameter | Description
--------- | ----------- 
domainId |This refers to the company or organization who is using the service.
issuerDID |This refers to the DID of the issuing organization or company.
userId | Id of the user. 

```json
[
    {
        "DIDType": "Issuer",
        "domainId": 1,
        "did": "did:brcm:z6MkvqWej7s1F39piFRHJ52QPmwHsQcEoo4EYb3RPbxtfoZn",
        "issuerName": "Broadcom",
        "credentialIssued": 1,
        "desc": "This a issuer DID",
        "lastYpdatedAt": "02-12-2023 12:12:12"
    },
    {
        "DIDType": "User",
        "domainId": 1,
        "did": "did:brcm:z6Mkk6VNNoj2feojkoRFsek7HKqJJQeNZBLdz3TJ3T5P8Fq6",
        "issuerName": "Broadcom",
        "credentialIssued": 1,
        "desc": "This a User DID",
        "lastYpdatedAt": "02-12-2023 12:12:12"
    },
    {
        "DIDType": "User",
        "domainId": 1,
        "did": "did:brcm:z6MkjqGS4QGmpSWNgvuHnySrwkYc9vbsgEix7udHLQjvNRab",
        "issuerName": "Broadcom",
        "credentialIssued": 1,
        "desc": "This a User DID",
        "lastYpdatedAt": "02-12-2023 12:12:12"
    },
    {
        "DIDType": "User",
        "domainId": 1,
        "did": "did:brcm:z6Mkm7wnq1bDQhiaaFeMwswZXDej2nYtBZfxNEJzJgSxJxUN",
        "issuerName": "Broadcom",
        "credentialIssued": 1,
        "desc": "This a User DID",
        "lastYpdatedAt": "02-12-2023 12:12:12"
    }
  ]
    
```

### HTTP Response
`Successfully Listed DID`


## Assign VC


```http
POST /api/v1/credential/assignVC HTTP/1.1
```

```shell
curl --location --request POST 'https://api.did.kloudlearn.com/api/v1/credential/assignVC'
```

```json
{
  "domainId": 1,
  "issuerDid": "did:brcm:z6MkvqWej7s1F39piFRHJ52QPmwHsQcEoo4EYb3RPbxtfoZn",
  "holderDid": "did:brcm:z6Mkk6VNNoj2feojkoRFsek7HKqJJQeNZBLdz3TJ3T5P8Fq6",
  "vcId": 1234
}
```
### HTTP Request
`POST /api/v1/credential/assignVC HTTP/1.1`

### Query Parameters
Parameter | Description
--------- | ----------- 
domainId |This refers to the company or organization who is using the service.
issuerDID      |This refers to the DID of the issuing organization or company. 
holderDid  | Holder DID refers to the recipient of the verifiable credential.
vcId | VC ID


```json
{
    "Message": "Credential Assignment successfully",
    "Code": 200,
    "Status": "Success"
}
```

### HTTP Response
`Successfully assigned VC`


## User List


```http
POST /api/v1/did/userList HTTP/1.1
```

```shell
curl --location --request POST 'https://api.did.kloudlearn.com/api/v1/did/userList'
```

```json
{
  "domainId": 1
}
```
### HTTP Request
`POST /api/v1/credential/assignVC HTTP/1.1`

### Query Parameters
Parameter | Description
--------- | ----------- 
domainId |This refers to the company or organization who is using the service.



```json
[
    {
        "Name": "aza@gmail.com",
        "userId": 85
    },
    {
        "Name": "inam",
        "userId": 95
    },
    {
        "Name": "postgresUser",
        "userId": 107
    },
    {
        "Name": "Hema",
        "userId": 112
    },
    {
        "Name": "postgresUser1",
        "userId": 116
    }
  ]
```

### HTTP Response
`Successfully User Listed`

## Issuer List


```http
POST /api/v1/did/issuerList HTTP/1.1
```

```shell
curl --location --request POST 'https://api.did.kloudlearn.com/api/v1/did/issuerList'
```

```json
{
    "domainId":1
}
```
### HTTP Request
`POST /api/v1/did/issuerList HTTP/1.1`

### Query Parameters
Parameter | Description
--------- | ----------- 
domainId |This refers to the company or organization who is using the service.



```json
[
    {
        "Name": "Bijay",
        "IssuerId": 2
    },
    {
        "Name": "Hema",
        "IssuerId": 23
    },
    {
        "Name": "Durai",
        "IssuerId": 24
    },
    {
        "Name": "Hussain",
        "IssuerId": 25
    },
    {
        "Name": "Bijay",
        "IssuerId": 27
    },
    {
        "Name": "Bijay",
        "IssuerId": 28
    }
]
```

### HTTP Response
`Successfully listed Issuer List`

## Get Credential


```http
POST /api/v1/credential/GetCredential HTTP/1.1
```

```shell
curl --location 'https://api.did.kloudlearn.com/api/v1/credential/GetCredential'
```

```json
{
   "credentialId": "430d2578-4382-4e74-a8b6-af7c1a960100"
 }
```
### HTTP Request
`POST /api/v1/credential/GetCredential HTTP/1.1`

### Query Parameters
Parameter | Description
--------- | ----------- 
credentialId |Credential Id.



```json
{
    "id": "430d2578-4382-4e74-a8b6-af7c1a960100",
    "credential": {
      "@context": [
        "https://www.w3.org/2018/credentials/v1"
      ],
      "id": "430d2578-4382-4e74-a8b6-af7c1a960100",
      "type": [
        "VerifiableCredential"
      ],
      "issuer": "did:key:z6Mkhz4FAJRes2ocHPonoWFh4orCHSUrY7UPbd1n69SJyfDn",
      "issuanceDate": "2023-02-16T12:02:53Z",
      "expirationDate": "2051-10-05T14:48:00.000Z",
      "credentialSubject": {
        "id": "did:key:z6Mkhz4FAJRes2ocHPonoWFh4orCHSUrY7UPbd1n69SJyfDn",
        "password": "XXXXXXXX"
      },
      "credentialSchema": {
        "id": "a36d9717-65a1-4b6b-bd80-0bbffd7d82d3",
        "type": "JsonSchemaValidator2018"
      }
    }
  }
```

### HTTP Response
`Successfully Credential displayed`

## Assign Wallet User


```http
POST /api/v1/walletService/assignWalletUser HTTP/1.1
```

```shell
curl --location 'https://api.did.kloudlearn.com/api/v1/walletService/assignWalletUser
```

```json
{
  "wallet_id": 1,
  "user_id": 104,
  "credential_id": 10
}
```
### HTTP Request
`POST /api/v1/walletService/assignWalletUser HTTP/1.1`

### Query Parameters
Parameter | Description
--------- | ----------- 
walletId |Wallet Id
userId | User ID
credentialId | Credential Id



```json
{
  "code": 200,
  "message": "Successfully Assigned Wallet",
  "status": "Success"
}
```

### HTTP Response
`Successfully Assigned Wallet`


## Validate User


```http
POST /api/v1/verifierService/validateUser HTTP/1.1
```

```shell
curl --location 'https://api.did.kloudlearn.com/api/v1/verifierService/validateUser'
```

```json
{
  "username" :"Durai",
  "issuerDid" :"did:key:z6MkkpN6GJP63BAS6SnBtLzxCE116KSUfHnyqJ7JAzkPYRvY",
  "holderDid":"did:key:z6MkqiwxHjgYq6mLRitGCcNDvjWVepyrGe4JTMztfPPhV9cy",
  "walletUrl":"wallet.brcm.connect.com",
  "endpoint":"database-server",
  "group":"lsfjobs"
}
```
### HTTP Request
`POST /api/v1/verifierService/validateUser HTTP/1.1`

### Query Parameters
Parameter | Description
--------- | ----------- 
username | username
issuerDid | Issuer DID
holderDid | Holder DID
walletUrl | Url of the wallet
endpoint | endpoint
group | Group



```json
{
    "message": "True"
}
```

### HTTP Response
`User Validated`
