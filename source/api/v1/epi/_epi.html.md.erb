# Endpoint Management
Endpoint management is the process of actively monitoring, detecting, and preventing malware attacks on devices that are connected to a network. This is typically done to implement security policies and monitor suspicious activities on endpoints.Its can be done by

1.Inventory / management of Endpoints or servers (windows, linux, macos and others) 

2.Active Directory Sync for users (one way only). 

3.Workflows to control permissions

4.endpoint user management through Endpoint User Management Service.

## List Instances
The List Instances API allows users to retrieve a list of computing instances that belong to an endpoint group in a system or application.This API provides a simple and convenient way to access information about computing instances within an endpoint group and their status, configuration, or usage metrics.

```shell
curl POST 'https://api.authnull.kloudlearn.com/api/v1/instances/list' \
```

```http
POST /api/v1/instances/list HTTP/1.1
```

```json
{
  "domainId": 1,
"pageId": 1,
"pageSize": 10,
"filter":""
}
```

### Access Token
Authorization Key Required 

### HTTP Request
`POST /api/v1/instances/list HTTP/1.1`

### Query Parameter

Parameter  | Description
--------- | -----------
domainId |  Domain Id is the company/organization id within our Authnull platform.
pageId |Page ID refers to the page number.
pageSize | Page size refers to the number of endpoints groups to be fetched.
filter | filter is the search keyword for searching endpoint groups.

### HTTP Response

`All the instances listed below.`

```json
{
    "domainId": 1,
    "groupId": 0,
    "totalCount": 7,
    "instances": [
        {
            "totalUsers": 38,
            "instanceName": "SK2014",
            "osName": "RedHat",
            "publicIp": "192.168.3.1",
            "privateIp": "",
            "hostName": "",
            "status": "Inactive",
            "instanceId": 1,
            "totalGroups": 8
        }
      ]
    }
```

<aside class="success">
All the instances listed below.
</aside>

## Add Instances
The Add Instance API allows users to add a new computing instance to an endpoint group in a system or application.This API provides a simple and secure way to add computing instances to an endpoint group and expand the computing infrastructure of an organization.


```shell
curl POST 'https://api.authnull.kloudlearn.com/api/v1/instances/addInstance
```

```http
POST /api/v1/instances/addInstance HTTP/1.1
```

```json
{
"domainId":1234,
"instanceName":"kloudone.vm",
"osId":1,
"publicIp":"144.32.55.5",
"privateIp":"10.32.45.1",
}
```

### Access Token
Authorization Key Required 

### HTTP Request
`POST /api/v1/instances/addInstance HTTP/1.1`

### Query Parameter

Parameter  | Description
--------- | -----------
domainId | Domain Id is the company/organization id within our Authnull platform.
instanceName | Name of instance
osId | Id of the OS used
publicIp | Public Ip of the instance
privateIp | Private Ip of the Instance


### HTTP Response

`Instance added to the list.`

```json
{
  "instanceId": "fdsf-dfdf-gfdsgf-fdsgfdg-fdge",
  "code": 200,
  "message": "success" 
}
```
<aside class="success">
Instance added to the list.
</aside>


## Update Auth Type
The Update Auth Type API allows users to update the authentication type used for a computing instance within an endpoint group in a system or application. This API provides a simple and flexible way to manage the authentication methods used within an endpoint group and ensure that they meet the security requirements of an organization.

```shell
curl PUT https://api.authnull.kloudlearn.com/api/v1/instances/updateAuthType
```

```http
PUT /api/v1/instances/updateAuthType HTTP/1.1
```

```json
{
    "instanceId":1,
    "domainId":1,
    "authType":"SSH,DID,Password"
}
 
```

### Access Token
Authorization Key Required 


### HTTP Request
PUT /api/v1/instances/updateAuthType HTTP/1.1

### Query Parameter

Parameter  | Description
---------  | -----------
instanceId | Instance Id 
domainId   | Domain Id is the company/organization id within our Authnull platform.
authType   | Authorization type


### HTTP Response

`Auth Type updated`

```json
{
  "Auth Type Updated"
}
```
<aside class="success">
Auth type updated
</aside>


## Assign  User to Endpoints

The Assign User to Endpoints API allows users to assign one or more users to specific computing instances within an endpoint group in a system or application. This API provides a simple and secure way to manage user access to computing instances and ensure that only authorized users can access sensitive information or resources.

```shell
curl POST 'https://api.authnull.kloudlearn.com/api/v1/instances/assignUsersToMachines
```

```http
POST /api/v1/instances/assignUsersToMachines HTTP/1.1
```

```json

{
    "instanceIds":[1,2],
    "domainId":1,
    "userIds":[106,103],
    "action" : "add"
}

{
    "instanceIds":[1,2],
    "domainId":1,
    "userIds":[106,103],
    "action" : "remove"
}

```

### Access Token
Authorization Key Required 

### HTTP Request
`POST /api/v1/instances/assignUsersToMachines HTTP/1.1`

### Query Parameter
Parameter  | Description
--------- | -----------
domainId| Domain Id is the company/organization id within our Authnull platform.
instanceIds | Instance Id of the used
userId | Users id of users
action | Whether it is add or remove


### HTTP Response

`Assign  user to endpoint`

```json
{
    "code": 200,
    "message": "Successfully Added"
}

```

<aside class="success">
Group added to endpoint
</aside>



## Assign Groups To Endpoints

The Assign Groups to Endpoints API allows users to assign one or more groups to specific computing instances within an endpoint group in a system or application.

```shell
curl PUT 'https://api.authnull.kloudlearn.com/api/v1/instances/assignGroupToMachines
```

```http
PUT /api/v1/instances/assignGroupToMachines HTTP/1.1
```

```json
{
    "instanceId":[1,2],
    "domainId":1,
    "groupId":[1,2,3],
     "action":"add"
}


 

{
    "instanceId":[1,2],
    "domainId":1,
    "groupId":[1,2,3],
     "action":"remove"
}
```

### Access Token
Authorization Key Required 


### HTTP Request
`PUT /api/v1/instances/assignGroupToMachines`

### Query Parameter
Parameter  | Description
--------- | -----------
domainId| Domain Id is the company/organization id within our Authnull platform.
instanceId | Instance Id of the used
groupId | Group Id
actions | whether Group is added to machines or not.


### HTTP Response

`Group added to Machine`

```json
{
    "code": 200,
    "message": "Successfully Added"
}
```

<aside class="success">
Group added to Machine
</aside>



