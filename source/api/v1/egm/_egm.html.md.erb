# Endpoint Group Management
The Endpoint Group Management module is a software component that enables the management of groups of endpoints within a system. This module provides a user interface for adding, modifying, and deleting endpoint groups, as well as associating endpoint users with these groups.

To add endpoint users to an endpoint group, simply select the desired group from the Endpoint Group Management module and navigate to the Endpoint Users section. From here, you can add or remove users as necessary.

Once endpoint users have been added to an endpoint group, you can generate an authentication flow for the group. This authentication flow determines how users in the group will be authenticated when accessing resources and applications within the system.

To generate an authentication flow for an endpoint group, select the desired group from the Endpoint Group Management module and navigate to the Authentication Flow section. From here, you can configure the authentication flow based on the specific needs of the group.

It is important to ensure that endpoint groups and associated authentication flows are properly configured and maintained to ensure secure and efficient access to resources and applications within the system. Regular monitoring and troubleshooting of the Endpoint Group Management module may be necessary to ensure its proper functioning.



## List Endpoint Group
This lists all the Endpoint groups that are present. Endpoint groups refer to a collection of  Linux endpoints

```shell
curl --location --request POST https://api.authnull.authnull.com/api/v1/instanceGroup/listEndpointGroup \
--header 'Content-Type: application/json' \
--data '{
  "domainId" : "1",
      "pageId": 1 , 
      "pageSize" :10,
       "filter": {
        "filterBy":  "",
        "value": ""
       }
}'
```

```http
POST /api/v1/instanceGroup/listEndpointGroup
```

```json
{
  "domainId" : "1",
      "pageId": 1 , 
      "pageSize" :10,
       "filter": {
        "filterBy":  "",
        "value": ""
       }
}
```

### Access Token
Authorization Key Required 

### HTTP Request
`POST /api/v1/instanceGroup/listEndpointGroup
`
### Query Parameter
Parameter  | Description
--------- | -----------
 domainId| The domainId is used to specify the domain ID associated with the endpoint group.
 pageId | Page ID refers to the page number.
 pageSize | Page size refers to the number of endpoints groups to be fetched.
 filter | filter is the search keyword for searching endpoint groups.
 filterBy |filterBy is the filter instances based on the attribute.
 value |value define specific filtering criteria or conditions.
### HTTP Response
`Endpoint listed.`

```json
{
  "totalCount": 1,
  "groups": [
    {
      "groupId": 120,
      "groupName": "Amber",
      "usersCount": 4,
      "hostName": "endpoint-agent"
    }
  ]
}
```
<aside class="success">
Endpoint listed.
</aside>

## Add Endpoint Group
The Add Endpoint groups API allows users to add new Endpoint groups to a system or application.

```shell
curl --location --request POST https://api.authnull.authnull.com/api/v1/instanceGroup/addInstanceGroup  \
--header 'Content-Type: application/json' \
--data '{
"domainId":1,
"instanceIds":[1,3],
"groupName":"SumanGhimiray",
"ou":"",
"cn":"",
"dc":""
}'
```

```http
POST api/v1/instanceGroup/addInstanceGroup
```

```json
{
"domainId":1,
"instanceIds":[1,3],
"groupName":"ServerGroup",
"ou":"",
"cn":"",
"dc":""
}
```

### Access Token
Authorization Key Required 


### HTTP Request
`POST api/v1/instanceGroup/addInstanceGroup`

### Query Parameter
Parameter  | Description
--------- | -----------
 domainId| Domain Id is the company/organization id within our Authnull platform.
 instanceIds | The instanceIds is used to specify the IDs of the instances that are part of the endpoint group.
 groupName | The groupName is used to specify the name of the endpoint group being created or modified.
 ou | The ou (organizational unit) is an optional parameter used to specify the organizational unit of the resources associated with the endpoint group.
 cn | The cn (common name) is an optional parameter used to specify the common name of the resources associated with the endpoint group.
 dc | The dc (domain component) is an optional parameter used to specify the domain component of the resources associated with the endpoint group.
 


### HTTP Response
`Endpoint added.`

```json
{
    "instanceId": 63,
    "Code": "200",
    "Message": "Successfully Updated Endpoint Group"
}
```
<aside class="success">
Endpoint added.
</aside>

## Delete Endpoint Group
The Delete Endpoint Group API  allows users to delete an existing Endpoint group from a system or application.This API provides a straightforward and secure way to remove Endpoint groups that are no longer needed or that have become obsolete. It can be used by administrators, security teams, or developers who need to manage or monitor endpoint groups in an organization.



```shell
curl --location --request DELETE https://api.authnull.authnull.com/api/v1/instanceGroup/deleteEndpointGroup \
--header 'Content-Type: application/json' \
--data '{
    {
        "domainId" : 1 ,
        "id": [5]
    }
}'
```
```http
DELETE api/v1/instanceGroup/deleteEndpointGroup
```
```json
{
    "domainId" : 1 ,
    "id": [5]
}
 
```

### Access Token
Authorization Key Required 

### HTTP Request
`DELETE api/v1/instanceGroup/deleteEndpointGroup`

### Query Parameter
Parameter  | Description
--------- | -----------
 domainId| Domain Id is the company/organization id within our Authnull platform.
 epmGroupId | The epmGroupId is used to specify the ID of an existing endpoint group to modify or retrieve its configuration.
 
 

### HTTP Response
`Endpoint Deleted`

```json
{
    "status": "Success",
    "message": "Group Deleted successfully"
}
```
<aside class="success">
Endpoint  deleted.
</aside>

## Edit Endpoint Groups
The Edit Endpoint Group API allows users to modify an existing Endpoint group in a system or application.This API provides a simple and secure way to update Endpoint groups with new information or to modify existing attributes, such as the groups name, description, or metadata.

```shell
curl --location --request PUT 'https://api.authnull.authnull.com/api/v1/instanceGroup/editInstanceGroup' \
--header 'Content-Type: application/json' \
--data '{
"domainId":1,
"instanceIds":[3,5,6],
"groupName":"sefali",
"groupId" :22
}'
```

```http
PUT /api/v1/instanceGroup/editInstanceGroup
```
```json
{
"domainId":16,
"instanceIds":[1,2],
"groupName":"Ghimiray"
}
```

### Access Token
Authorization Key Required 

### HTTP Request
`PUT /api/v1/epmGroupManagement/editEPMGroupStatus HTTP/1.1`

### Query Parameter

Parameter  | Description
--------- | -----------
 domainId| Domain Id is the company/organization id within our Authnull platform.
 instanceIds|The instanceIds is used to specify the IDs of the instances that are part of the endpoint group.
 groupName | The groupName is used to specify the name of the endpoint group being created or modified.
 


### HTTP Response

`Endpoint Status Updated.`

```json
{
    "status": "Success",
    "message": "Status Updated Successfully"
}
```
<aside class="success">
Endpoint Status Updated.
</aside>

## Assign Users To Endpoint Group
The Assign users to Endpoint Group API allows users to assign or add users to an existing Endpoint group in a system or application.This API provides a convenient and secure way to manage user access to Endpoint groups and ensure that only authorized users can access or modify endpoints within the group.

```shell
curl --location 'https://api.authnull.authnull.com/api/v1/instanceGroup/assignUsersToEndpointGroup' \
--header 'Content-Type: application/json' \
--data '{
"domainId":1234,
"groupId":9,
"userIds":[2,3],
"action":"add"
}'
```

```http
POST /api/v1/instances/assignUsersToEndpointGroup
```
```json
{
"domainId":1234,
"groupId":9,
"userIds":[2,3],
"action":"add"
}

{
"domainId":1234,
"groupId":9,
"userIds":[2,3],
"action":"remove"
}
```

### Access Token
Authorization Key Required 

### HTTP Request
`POST /api/v1/instances/assignUsersToEndpointGroup`

### Query Parameter

Parameter  | Description
--------- | -----------
 domainId| Domain Id is the company/organization id within our Authnull platform.
 groupId | The groupId is used to specify the unique identifier of a group to retrieve, update or delete its information.
 action | The action is used to specify the type of action to be performed on a group, such as add or remove a group.
 userId | The userId is used to specify the unique identifier of a user to be added or removed from a group.
 


### HTTP Response

`Endpoint Status Updated.`

```json
{
    "status": "Success",
    "message": "Users Added/Removed successfully"
}
```
<aside class="success">
Endpoint Status Updated.
</aside>



## Add Auth Flow
The Add Authflow API allows users to add a new authentication flow to an existing Endpoint group in a system or application. Authentication flow is the process that users go through to verify their identity before accessing an endpoint or device.

This API provides a simple and secure way to manage authentication flows for Endpoint groups and ensure that only authorized users can access or modify endpoints within the group. 

```shell
curl --location 'https://api.authnull.authnull.com/api/v1/instanceGroup/addAuthFlowToInstanceGroup' \
--header 'Content-Type: application/json' \
--data '{
"domainId":1234,
"groupId":13,
"authFlow":"SSH,DID"
}'
```

```http
POST /api/v1/instanceGroup/addAuthFlowToInstanceGroup
```
```json
{
"domainId":1234,
"groupId":9,
"authFlow":"SSH,DID"
}
```

### Access Token
Authorization Key Required 

### HTTP Request
`POST /api/v1/instanceGroup/addAuthFlowToInstanceGroup`

### Query Parameter

Parameter  | Description
--------- | -----------
 domainId| Domain Id is the company/organization id within our Authnull platform.
 groupId | The groupId is used to specify the unique identifier of a group to retrieve, update or delete its information.
 authFlow | The authFlow is used to specify the type of authentication flow to be used for accessing the group management API


### HTTP Response

`Auth flow added`

```json
{
    "instanceId": 13,
    "code": "200",
    "message": "Auth Flow Updated"
}
```
<aside class="success">
Auth flow added
</aside>



## Update Instance Group Status
The Update Instance Group Status API allows users to update the status of an instance group in a system or application. This API provides a simple and secure way to manage the status of instance groups and ensure that they are running smoothly and efficiently.

```shell
curl --location --request PUT 'https://api.authnull.authnull.com/api/v1/instanceGroup/updateInstanceGroupStatus' \
--header 'Content-Type: application/json' \
--data '{
"domainId":1234,
"groupId":9,
"status":"Disabled"
}'
```

```http
PUT /api/v1/instanceGroup/updateInstanceGroupStatus
```
```json
{
"domainId":1234,
"groupId":9,
"status":"Disabled"
}
```

### Access Token
Authorization Key Required 

### HTTP Request
`PUT /api/v1/instanceGroup/updateInstanceGroupStatus`

### Query Parameter

Parameter  | Description
--------- | -----------
 domainId| Domain Id is the company/organization id within our Authnull platform.
 groupId | The groupId is used to specify the unique identifier of a group to retrieve, update or delete its information.
 status | The status parameter for API endpoint group management is used to specify the current status of a group, such as whether it is active or inactive


### HTTP Response

`Instance Group status updated`

```json
{
    "status": "Success",
    "message": "Status Updated Successfully"
}
```
<aside class="success">
Instance Group status updated
</aside>



## Fetch Instance Group Detail
The Fetch Instance Group Detail API that allows users to retrieve detailed information about an instance group in a system or application.This API provides a convenient and secure way to access detailed information about instance groups .

```shell
curl --location 'http://localhost:9090/api/v1/instanceGroup/fetchInstanceGroupDetail' \
--header 'Content-Type: application/json' \
--data '{
"domainId":4,
"groupId":45
}'
```

```http
POST /api/v1/instanceGroup/fetchInstanceGroupDetail
```
```json
{
"domainId":4,
"groupId":4
}
```

### Access Token
Authorization Key Required 

### HTTP Request
`POST /api/v1/instanceGroup/fetchInstanceGroupDetail`
### Query Parameter

Parameter  | Description
--------- | -----------
 domainId| Domain Id is the company/organization id within our Authnull platform.
 groupId | The groupId is used to specify the unique identifier of a group to retrieve, update or delete its information.

### HTTP Response

`Instance group detail fetched`

```json
{
    "instanceName": "sk123",
    "os": "sk",
    "hostName": "SK980",
    "privateIp": "123.432.3",
    "publicIp": "123.43.23",
    "state": "Active"
}
```
<aside class="success">
Instance group detail fetched
</aside>




## Update Credential Policy
The Update Credential Policy API allows users to update the credential policy for an endpoint group in a system or application.This API provides a simple and secure way to manage credential policies for endpoint groups and ensure that they are configured to meet the security requirements of an organization. 

```shell
curl --location --request PUT 'https://api.authnull.authnull.com/api/v1/instances/updateCredentialPolicyToEndpointGroup' \
--header 'Content-Type: application/json' \
--data '{

"groupId":1,
"domainId":1,
"ttlUser":"",
"priviligedUser":"",
"policyId":"",
"homeDir":""
}'
```

```http
PUT /api/v1/instances/updateCredentialPolicyToEndpointGroup
```
```json
{

"groupId":1,
"domainId":1,
"ttlUser":"",
"priviligedUser":"",
"policyId":"",
"homeDir":""
}
```

### Access Token
Authorization Key Required 

### HTTP Request
`PUT /api/v1/instances/updateCredentialPolicyToEndpointGroup`
### Query Parameter

Parameter  | Description
--------- | -----------
 domainId| Domain Id is the company/organization id within our Authnull platform.
 groupId | The groupId is used to specify the unique identifier of a group to retrieve, update or delete its information.
 ttlUser | The ttlUser refers to the Time-to-Live (TTL) value for user sessions.
 priviligedUser | The privilegedUser allows certain users to have elevated access and permissions within the endpoint group.
 policyId | The policyId specifies the ID of the policy associated with the group.
 homeDir | The homeDir specifies the default directory path for users accessing the endpoint group.


### HTTP Response

`Credential Policy Updated`

```json
{
    "code": 200,
    "message": "Successfully Updated"
}
```
<aside class="success">
Credential Policy Updated
</aside>




## Delete Credential Policy
The Delete Credential Policy API allows users to delete the credential policy for an endpoint group in a system or application.It typically requires authentication to ensure that only authorized users can delete credential policies.

```shell
curl --location --request DELETE 'https://api.authnull.authnull.com/api/v1/instances/deleteCredentialPolicyToEndpointGroup' \
--header 'Content-Type: application/json' \
--data '{
"groupId":1,
"domainId":1,
"credPolicyId":""
}'
```

```http
DELETE /api/v1/instances/deleteCredentialPolicyToEndpointGroup
```
```json
{
"groupId":1,
"domainId":1,
"credPolicyId":""
}
```

### Access Token
Authorization Key Required 

### HTTP Request
`DELETE /api/v1/instances/deleteCredentialPolicyToEndpointGroup`
### Query Parameter

Parameter  | Description
--------- | -----------
 domainId| Domain Id is the company/organization id within our Authnull platform.
 groupId |The groupId is used to specify the unique identifier of a group to retrieve, update or delete its information.
 credPolicyId | The credPolicyId specifies the credential policy to be associated with the endpoint group.

### HTTP Response

`Credential Policy Deleted`

```json
{
    "code": 200,
    "message": "Successfully Deleted"
}
```
<aside class="success">
Credential Policy Deleted
</aside>




